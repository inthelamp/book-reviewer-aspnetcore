<link href="~/lib/quill/quill.snow.css" rel="stylesheet">

@using (Html.BeginForm("SaveDraft","Reviews",FormMethod.Post, new { onsubmit = "getContent()" }))
{
    <!-- Create the editor container -->
    <div class="form-group">
      <input name="content" type="hidden">
      <div id="quill-container" class="editor">
      </div>
    </div>
    <div>
      <button class="btn btn-primary" type="submit">Save Review</button>
    </div>  
}

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/quill/quill.js"></script>

<!-- Initialize Quill editor -->
<script>
var quill = new Quill('#quill-container', {
  modules: {
    toolbar: [
        [{ header: [1, 2, 3, false] }],    
        ['bold', 'italic', 'underline'],
        ['blockquote', 'code-block', 'image'],
        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
    ]
  },
  placeholder: 'Write a book review here...',
  theme: 'snow'
});

function getContent() {
      // Populate hidden form on submit
      var content = document.querySelector('input[name=content]');
      var jsonStringContent = JSON.stringify(quill.getContents());
      content.value = jsonStringContent;      
      var cookieValue = encodeURIComponent(jsonStringContent);
      document.cookie = "content=" + cookieValue;
};
</script>